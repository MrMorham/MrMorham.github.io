{"version":3,"sources":["firebase-config.js","Components/SignIn.js","App.js","index.js"],"names":["initializeApp","apiKey","authDomain","databaseURL","storageBucket","projectId","messagingSenderId","appId","measurementId","db","getDatabase","auth","getAuth","SignIn","props","useState","email","setEmail","password","setPassword","error","setError","validUser","setValidUser","updateEmail","document","getElementById","value","updatePassword","updateError","message","userState","onAuthStateChanged","user","useEffect","id","type","onClick","event","signOut","then","onSubmit","preventDefault","signInWithEmailAndPassword","userCredential","refreshDataFromDatabase","catch","code","onChange","App","reference","ref","fetch","headers","response","json","myJson","setCharacter","availableSkills","setAvailableSkills","skillKeys","setSkillKeys","character","onValue","snapshot","data","val","Object","keys","defaultValue","name","age","characteristics","map","stat","values","score","modifier","skill","description","ReactDOM","render","StrictMode"],"mappings":"4MAsBAA,YAZ8B,CAC5BC,OAAQ,0CACRC,WAAY,kCACZC,YAAa,0EACbC,cAAe,8BACfC,UAAW,kBACXC,kBAAmB,eACnBC,MAAO,4CACPC,cAAe,iBAMV,IAAMC,EAAKC,cACLC,EAAOC,c,OCyDLC,MA9Ef,SAAgBC,GAEZ,MAA0BC,mBAAS,IAAnC,mBAAOC,EAAP,KAAcC,EAAd,KACA,EAAgCF,mBAAS,IAAzC,mBAAOG,EAAP,KAAiBC,EAAjB,KACA,EAA0BJ,qBAA1B,mBAAOK,EAAP,KAAcC,EAAd,KACA,EAAkCN,qBAAlC,mBAAOO,EAAP,KAAkBC,EAAlB,KASA,SAASC,IACLP,EAASQ,SAASC,eAAe,SAASC,OAG9C,SAASC,IACLT,EAAYM,SAASC,eAAe,YAAYC,OAGpD,SAASE,EAAYC,GACjBT,EAASS,GA2Bb,SAASC,IACLC,YAAmBrB,GAAM,SAACsB,GAElBV,IADAU,MAQZ,OArDAC,qBAAU,WACNL,IACAE,IACAP,IACAI,MACD,IAgDCN,EAEA,+BACI,uBAAOa,GAAG,WAAWC,KAAK,SAASC,QArB3B,SAACC,GACbC,YAAQ5B,GACP6B,MAAK,WAEFT,YAsBJ,uBAAMU,SA1CI,SAACH,GACXA,EAAMI,iBACNC,YAA2BhC,EAAMK,EAAOE,GACnCsB,MAAK,SAACI,GACUA,EAAeX,KAC5BF,IACAjB,EAAM+B,6BAETC,OAAM,SAAC1B,GAIJS,EAHkBT,EAAM2B,UAiChC,UACI,4CAAsB,uBAAOZ,GAAG,QAAQC,KAAK,OAAOY,SAAUxB,IAAe,uBAC7E,+CAAyB,uBAAOW,GAAG,WAAWC,KAAK,WAAWY,SAAUpB,IAAkB,uBAC1F,uBAAOO,GAAG,SAASC,KAAK,WACxB,qBAAKD,GAAG,QAAR,SAAiBf,GAAgB,SCK9B6B,MA3Ef,WAEE,IAAMC,EAAYC,YAAI1C,EAAI,yBAE1ByB,qBAAU,WAkBRkB,MAAM,0BACJ,CACEC,QAAS,CACP,eAAgB,mBAChB,OAAU,sBAIbb,MAAK,SAAUc,GACd,OAAOA,EAASC,UAEjBf,MAAK,SAAUgB,GACdC,EAAaD,MA5BjBX,MACC,IAEH,MAA8C9B,mBAAS,IAAvD,mBAAO2C,EAAP,KAAwBC,EAAxB,KACA,EAAkC5C,mBAAS,IAA3C,mBAAO6C,EAAP,KAAkBC,EAAlB,KACA,EAAkC9C,mBAAS,IAA3C,mBAAO+C,EAAP,KAAkBL,EAAlB,KAEMZ,EAA0B,SAACP,GAC/ByB,YAAQb,GAAW,SAACc,GAClB,IAAMC,EAAOD,EAASE,MACtBP,EAAmBM,GACnBJ,EAAaM,OAAOC,KAAKH,QAqB7B,OACE,gCACE,cAAC,EAAD,CAAQpB,wBAAyBA,IAEjC,uBAEA,yCACQ,uBAAOV,GAAG,OAAOC,KAAK,OAAOiC,aAAcP,EAAUQ,KAAO,GAAKR,EAAUQ,OAAc,uBADjG,QAEO,sBAAMnC,GAAG,MAAT,SAAgB2B,EAAUS,IAAMT,EAAUS,IAAM,IAAS,uBAFhE,mBAIGT,EAAUU,gBAAkBV,EAAUU,gBAAgBC,KAAI,SAAAC,GACzD,OACE,sBAAqBvC,GAAIuC,EAAKJ,KAA9B,UACE,uBAAMnC,GAAIuC,EAAKJ,KAAO,QAAtB,UAAgCI,EAAKJ,KAArC,QACA,uBAAMnC,GAAIuC,EAAKJ,KAAO,SAAtB,UAAiCI,EAAKC,OAAOC,MAA7C,OACA,+BAAOF,EAAKC,OAAOE,SAAW,EAAI,GAAK,MAAW,sBAAM1C,GAAIuC,EAAKJ,KAAO,YAAtB,SAAoCI,EAAKC,OAAOE,aAH1FH,EAAKJ,SAMd,wBAEL,uBAGEV,EAAYA,EAAUa,KAAI,SAAAK,GACxB,OACE,sBAAiB3C,GAAI2C,EAArB,UACE,iCAAM,iCAASpB,EAAgBoB,GAAOR,OAAtC,IAAqD,+BAAOQ,OAAoB,uBAChF,+BAAOpB,EAAgBoB,GAAOC,gBAFtBD,MAKT,+BCtEfE,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFzD,SAASC,eAAe,W","file":"static/js/main.6b0ab414.chunk.js","sourcesContent":["// Import the functions you need from the SDKs you need\r\nimport { initializeApp } from \"firebase/app\";\r\nimport { getDatabase } from \"firebase/database\";\r\nimport { getAuth } from \"firebase/auth\";\r\n\r\n// TODO: Add SDKs for Firebase products that you want to use\r\n// https://firebase.google.com/docs/web/setup#available-libraries\r\n\r\n// Your web app's Firebase configuration\r\n// For Firebase JS SDK v7.20.0 and later, measurementId is optional\r\nexport const firebaseConfig = {\r\n  apiKey: \"AIzaSyAgmsH0q9-LT5xVgSK3XkygIU7yg7QaHms\",\r\n  authDomain: \"traveller-a2603.firebaseapp.com\",\r\n  databaseURL: \"https://traveller-a2603-default-rtdb.europe-west1.firebasedatabase.app/\",\r\n  storageBucket: \"traveller-a2603.appspot.com\",\r\n  projectId: \"traveller-a2603\",\r\n  messagingSenderId: \"751353908900\",\r\n  appId: \"1:751353908900:web:232a883c214a695f502031\",\r\n  measurementId: \"G-DRDVQE6DWF\"\r\n};\r\n\r\n// Initialize Firebase\r\ninitializeApp(firebaseConfig);\r\n\r\nexport const db = getDatabase();\r\nexport const auth = getAuth();\r\n","import React, { useEffect, useState } from 'react';\r\nimport { auth } from \"../firebase-config\";\r\nimport { signInWithEmailAndPassword, onAuthStateChanged, signOut } from \"firebase/auth\"\r\n\r\nfunction SignIn(props) {\r\n\r\n    const [email, setEmail] = useState(\"\")\r\n    const [password, setPassword] = useState(\"\")\r\n    const [error, setError] = useState()\r\n    const [validUser, setValidUser] = useState()\r\n\r\n    useEffect(() => {\r\n        updateError()\r\n        userState()\r\n        updateEmail(\"\")\r\n        updatePassword(\"\")\r\n    }, [])\r\n\r\n    function updateEmail() {\r\n        setEmail(document.getElementById(\"email\").value)\r\n    }\r\n\r\n    function updatePassword() {\r\n        setPassword(document.getElementById(\"password\").value)\r\n    }\r\n\r\n    function updateError(message) {\r\n        setError(message)\r\n    }\r\n\r\n    const login = (event) => {\r\n        event.preventDefault()\r\n        signInWithEmailAndPassword(auth, email, password)\r\n            .then((userCredential) => {\r\n                const user = userCredential.user\r\n                userState()\r\n                props.refreshDataFromDatabase()\r\n            })\r\n            .catch((error) => {\r\n                const errorCode = error.code\r\n                //const errorMessage = error.errorMessage\r\n\r\n                updateError(errorCode)\r\n            })\r\n    }\r\n\r\n    const signout = (event) => {\r\n        signOut(auth)\r\n        .then(() => {\r\n            const user = null\r\n            userState()\r\n        })\r\n    }\r\n\r\n    function userState() {\r\n        onAuthStateChanged(auth, (user) => {\r\n            if (user) {\r\n                setValidUser(true)\r\n            } else {\r\n                setValidUser(false)\r\n            }\r\n        })\r\n    }\r\n\r\n    if (validUser) {\r\n        return (\r\n        <form>\r\n            <input id=\"sign-out\" type=\"submit\" onClick={signout}></input>\r\n        </form>\r\n        )\r\n    } else {\r\n        return (\r\n        <form onSubmit={login}>\r\n            <label>Email: </label><input id=\"email\" type=\"text\" onChange={updateEmail} /><br />\r\n            <label>Password: </label><input id=\"password\" type=\"password\" onChange={updatePassword} /><br />\r\n            <input id=\"submit\" type=\"submit\"></input>\r\n            <div id=\"error\">{error ? error : \"\"}</div>\r\n        </form>\r\n        )\r\n    }\r\n}\r\n\r\nexport default SignIn;","import React, { useEffect, useState } from 'react';\r\nimport { ref, onValue } from \"firebase/database\";\r\nimport { db } from \"./firebase-config\";\r\nimport SignIn from './Components/SignIn';\r\n\r\n\r\nfunction App() {\r\n\r\n  const reference = ref(db, 'public/skills_details');\r\n\r\n  useEffect(() => {\r\n    loadBaseCharacter()\r\n    refreshDataFromDatabase()\r\n  }, [])\r\n\r\n  const [availableSkills, setAvailableSkills] = useState([])\r\n  const [skillKeys, setSkillKeys] = useState([])\r\n  const [character, setCharacter] = useState([])\r\n\r\n  const refreshDataFromDatabase = (event) => {\r\n    onValue(reference, (snapshot) => {\r\n      const data = snapshot.val();\r\n      setAvailableSkills(data)\r\n      setSkillKeys(Object.keys(data))\r\n    });\r\n  }\r\n\r\n  function loadBaseCharacter() {\r\n    fetch('./models/character.json',\r\n      {\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Accept': 'application/json'\r\n        }\r\n      }\r\n    )\r\n      .then(function (response) {\r\n        return response.json();\r\n      })\r\n      .then(function (myJson) {\r\n        setCharacter(myJson)\r\n      });\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <SignIn refreshDataFromDatabase={refreshDataFromDatabase} />\r\n      \r\n      <br />\r\n      \r\n      <div>\r\n        Name: <input id=\"name\" type=\"text\" defaultValue={character.name ? \"\" : character.name}></input><br />\r\n        Age: <span id=\"age\">{character.age ? character.age : 0}</span><br />\r\n        Characteristics:\r\n        {character.characteristics ? character.characteristics.map(stat => {\r\n          return (\r\n            <div key={stat.name} id={stat.name}>\r\n              <span id={stat.name + \"_name\"}>{stat.name}: </span>\r\n              <span id={stat.name + \"_score\"}>{stat.values.score} </span>\r\n              <span>{stat.values.modifier < 0 ? \"\" : \"+\"}</span><span id={stat.name + \"_modifier\"}>{stat.values.modifier}</span>\r\n            </div>\r\n          )\r\n        }) : <div></div>}\r\n      \r\n        <br />\r\n      \r\n        {\r\n          skillKeys ? skillKeys.map(skill => {\r\n            return (\r\n              <div key={skill} id={skill}>\r\n                <span><strong>{availableSkills[skill].name}</strong> <span>{skill}</span></span><br />\r\n                <span>{availableSkills[skill].description}</span>\r\n              </div>\r\n            )\r\n          }) : <div></div>\r\n        }\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n"],"sourceRoot":""}